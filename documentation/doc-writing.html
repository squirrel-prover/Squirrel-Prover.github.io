<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documenting Squirrel with Sphinx &mdash; Squirrel  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/ansi.css" type="text/css" />
      <link rel="stylesheet" href="_static/notations.css" type="text/css" />
      <link rel="stylesheet" href="_static/pre-text.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/rtd_sphinx_search.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/notations.js"></script>
        <script src="_static/tabs.js"></script>
        <script src="_static/js/rtd_search_config.js"></script>
        <script src="_static/js/rtd_sphinx_search.min.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bibliography" href="bibliography.html" />
    <link rel="prev" title="General index" href="genindex.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Squirrel
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference-intro.html">Notations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference-intro.html#lexical-conventions">Lexical conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference-intro.html#infix-operators">Infix operators</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logic.html">Logic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logic.html#types">Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logic.html#base-types">Base types</a></li>
<li class="toctree-l3"><a class="reference internal" href="logic.html#type-variables-and-polymorphism">Type variables and polymorphism</a></li>
<li class="toctree-l3"><a class="reference internal" href="logic.html#general-types">General types</a></li>
<li class="toctree-l3"><a class="reference internal" href="logic.html#binders-and-tags">Binders and tags</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logic.html#terms">Terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logic.html#terms-with-binders">Terms with binders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logic.html#multi-terms">Multi-terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logic.html#diff-terms">Diff-terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="logic.html#macros">Macros</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logic.html#formulas">Formulas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logic.html#local-formulas">Local formulas</a></li>
<li class="toctree-l3"><a class="reference internal" href="logic.html#global-formulas">Global formulas</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="declarations.html">Declarations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="declarations.html#terms">Terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#names">Names</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#abstract-functions">Abstract functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#operators">Operators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="declarations.html#built-ins">Built-ins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#cryptographic-functions">Cryptographic functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="declarations.html#processes">Processes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#channels">Channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#memory-cells">Memory cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#id4">Processes</a></li>
<li class="toctree-l3"><a class="reference internal" href="declarations.html#systems-and-actions">Systems and actions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="declarations.html#system-defined-macros">System-defined macros</a></li>
<li class="toctree-l4"><a class="reference internal" href="declarations.html#system-expressions">System expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="declarations.html#system-contexts">System contexts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="declarations.html#axioms-and-lemmas">Axioms and Lemmas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="proofs.html">Proofs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="proofs.html#judgements">Judgements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#logical-variables">Logical variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#hypotheses">Hypotheses</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#local-judgement">Local judgement</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#global-judgement">Global judgement</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proofs.html#generalities">Generalities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#tactic-arguments">Tactic arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#intro-patterns">Intro patterns</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#proof-terms">Proof terms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#proof-term-resolution">Proof-term resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#reduction">Reduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#automatic-simplification-tactics">Automatic simplification tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#tactics">Tactics</a></li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#common-errors">Common errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="proofs.html#id4">Tactics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#generic-tactics">Generic tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#common-tactics">Common tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#local-tactics">Local tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#global-tactics">Global tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#structural-tactics">Structural tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id9">Common tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id11">Local tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id12">Global tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#cryptographic-tactics">Cryptographic tactics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#occurrence-formula">Occurrence formula</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id15">Common tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id18">Local tactics</a></li>
<li class="toctree-l4"><a class="reference internal" href="proofs.html#id28">Global tactics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="proofs.html#utility-tactics">Utility tactics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Protocol modelling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#messages">Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#basic-assumption">Basic assumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#cryptographic-assumptions">Cryptographic assumptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#protocols">Protocols</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#reachability-properties">Reachability properties</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#macros">Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#formulas">Formulas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html#equivalence-properties">Equivalence properties</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="appendix/indexes/index.html">Indexes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="std-glossindex.html">Glossary index</a></li>
<li class="toctree-l2"><a class="reference internal" href="squirrel-declindex.html">Declaration index</a></li>
<li class="toctree-l2"><a class="reference internal" href="squirrel-cmdindex.html">Command index</a></li>
<li class="toctree-l2"><a class="reference internal" href="squirrel-tacindex.html">Tactic index</a></li>
<li class="toctree-l2"><a class="reference internal" href="squirrel-exnindex.html">Errors and warnings index</a></li>
<li class="toctree-l2"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documenting Squirrel with Sphinx</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#todo-list-generation">TODO list generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#squirrel-objects">Squirrel objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#notations">Notations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objects">Objects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#squirrel-directives">Squirrel directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="#squirrel-roles">Squirrel roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-mistakes">Common mistakes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#improper-nesting">Improper nesting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overusing-token">Overusing <code class="docutils literal notranslate"><span class="pre">:token:</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#omitting-annotations">Omitting annotations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-squirreltop-directive-for-syntax-highlighting">Using the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span></code> directive for syntax highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overusing-plain-quotes">Overusing plain quotes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overusing-the-example-directive">Overusing the <code class="docutils literal notranslate"><span class="pre">example</span></code> directive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tips-and-tricks">Tips and tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nested-lemmas">Nested lemmas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#abbreviations-and-macros">Abbreviations and macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-uses-of-notations">Advanced uses of notations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Squirrel</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Documenting Squirrel with Sphinx</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/squirrel-prover/squirrel-prover/blob/master/documentation/sphinx/source/doc-writing.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="math-preamble math notranslate nohighlight">
\[\begin{split}\newcommand{\as}{\kw{as}}
\newcommand{\case}{\kw{case}}
\newcommand{\cons}{\textsf{cons}}
\newcommand{\consf}{\textsf{consf}}
\newcommand{\emptyf}{\textsf{emptyf}}
\newcommand{\End}{\kw{End}}
\newcommand{\kwend}{\kw{end}}
\newcommand{\even}{\textsf{even}}
\newcommand{\evenO}{\textsf{even}_\textsf{O}}
\newcommand{\evenS}{\textsf{even}_\textsf{S}}
\newcommand{\Fix}{\kw{Fix}}
\newcommand{\fix}{\kw{fix}}
\newcommand{\for}{\textsf{for}}
\newcommand{\forest}{\textsf{forest}}
\newcommand{\Functor}{\kw{Functor}}
\newcommand{\In}{\kw{in}}
\newcommand{\ind}[3]{\kw{Ind}~[#1]\left(#2\mathrm{~:=~}#3\right)}
\newcommand{\Indp}[4]{\kw{Ind}_{#4}[#1](#2:=#3)}
\newcommand{\Indpstr}[5]{\kw{Ind}_{#4}[#1](#2:=#3)/{#5}}
\newcommand{\injective}{\kw{injective}}
\newcommand{\kw}[1]{\textsf{#1}}
\newcommand{\length}{\textsf{length}}
\newcommand{\letin}[3]{\kw{let}~#1:=#2~\kw{in}~#3}
\newcommand{\List}{\textsf{list}}
\newcommand{\lra}{\longrightarrow}
\newcommand{\Match}{\kw{match}}
\newcommand{\Mod}[3]{{\kw{Mod}}({#1}:{#2}\,\zeroone{:={#3}})}
\newcommand{\ModImp}[3]{{\kw{Mod}}({#1}:{#2}:={#3})}
\newcommand{\ModA}[2]{{\kw{ModA}}({#1}=={#2})}
\newcommand{\ModS}[2]{{\kw{Mod}}({#1}:{#2})}
\newcommand{\ModType}[2]{{\kw{ModType}}({#1}:={#2})}
\newcommand{\mto}{.\;}
\newcommand{\nat}{\textsf{nat}}
\newcommand{\Nil}{\textsf{nil}}
\newcommand{\nilhl}{\textsf{nil\_hl}}
\newcommand{\nO}{\textsf{O}}
\newcommand{\node}{\textsf{node}}
\newcommand{\nS}{\textsf{S}}
\newcommand{\odd}{\textsf{odd}}
\newcommand{\oddS}{\textsf{odd}_\textsf{S}}
\newcommand{\ovl}[1]{\overline{#1}}
\newcommand{\Pair}{\textsf{pair}}
\newcommand{\plus}{\mathsf{plus}}
\newcommand{\SProp}{\textsf{SProp}}
\newcommand{\Prop}{\textsf{Prop}}
\newcommand{\return}{\kw{return}}
\newcommand{\Set}{\textsf{Set}}
\newcommand{\Sort}{\mathcal{S}}
\newcommand{\Str}{\textsf{Stream}}
\newcommand{\Struct}{\kw{Struct}}
\newcommand{\subst}[3]{#1\{#2/#3\}}
\newcommand{\tl}{\textsf{tl}}
\newcommand{\tree}{\textsf{tree}}
\newcommand{\trii}{\triangleright_\iota}
\newcommand{\Type}{\textsf{Type}}
\newcommand{\WEV}[3]{\mbox{$#1[] \vdash #2 \lra  #3$}}
\newcommand{\WEVT}[3]{\mbox{$#1[] \vdash #2 \lra$}\\ \mbox{$ #3$}}
\newcommand{\WF}[2]{{\mathcal{W\!F}}(#1)[#2]}
\newcommand{\WFE}[1]{\WF{E}{#1}}
\newcommand{\WFT}[2]{#1[] \vdash {\mathcal{W\!F}}(#2)}
\newcommand{\WFTWOLINES}[2]{{\mathcal{W\!F}}\begin{array}{l}(#1)\\\mbox{}[{#2}]\end{array}}
\newcommand{\with}{\kw{with}}
\newcommand{\WS}[3]{#1[] \vdash #2 &lt;: #3}
\newcommand{\WSE}[2]{\WS{E}{#1}{#2}}
\newcommand{\WT}[4]{#1[#2] \vdash #3 : #4}
\newcommand{\WTE}[3]{\WT{E}{#1}{#2}{#3}}
\newcommand{\WTEG}[2]{\WTE{\Gamma}{#1}{#2}}
\newcommand{\WTM}[3]{\WT{#1}{}{#2}{#3}}
\newcommand{\zeroone}[1]{[{#1}]}
\end{split}\]</div>
<section id="documenting-squirrel-with-sphinx">
<h1>Documenting Squirrel with Sphinx<a class="headerlink" href="#documenting-squirrel-with-sphinx" title="Permalink to this heading">¶</a></h1>
<p>Squirrel’s reference manual is written in <a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/restructuredtext/basics.html">reStructuredText</a> (“reST”), and compiled with <a class="reference external" href="http://www.sphinx-doc.org/en/master/">Sphinx</a>.
See <a class="reference external" href="../README.md">this README</a> for compilation instructions.</p>
<p>In addition to standard reST directives (a directive is similar to a LaTeX environment) and roles (a role is similar to a LaTeX command), the <code class="docutils literal notranslate"><span class="pre">squirrelrst</span></code> plugin loaded by the documentation uses a custom <em>Squirrel domain</em> — a set of Squirrel-specific directives that define <em>objects</em> like tactics, commands (vernacs), warnings, etc. —, some custom <em>directives</em>, and a few custom <em>roles</em>.  Finally, this manual uses a small DSL to describe tactic invocations and commands.</p>
<section id="todo-list-generation">
<h2>TODO list generation<a class="headerlink" href="#todo-list-generation" title="Permalink to this heading">¶</a></h2>
<p>You can add a task in the todo list with this directive :</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-0-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-0-0-0" name="0-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-0-0-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-0-0-1" name="0-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-0-0-0" class="sphinx-tabs-panel" id="panel-0-0-0" name="0-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">todo</span><span class="p">::</span>

   This is a task added into the todo list

<span class="p">..</span> <span class="ow">todo</span><span class="p">::</span>

   This is an other task added into the todo list
</pre></div>
</div>
</div><div aria-labelledby="tab-0-0-1" class="sphinx-tabs-panel" hidden="true" id="panel-0-0-1" name="0-1" role="tabpanel" tabindex="0"></div></div>
<p>The list can be displayed with :</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-1-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-1-1-0" name="1-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-1-1-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-1-1-1" name="1-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-1-1-0" class="sphinx-tabs-panel" id="panel-1-1-0" name="1-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">todolist</span><span class="p">::</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-1-1" class="sphinx-tabs-panel" hidden="true" id="panel-1-1-1" name="1-1" role="tabpanel" tabindex="0"></div></div>
</section>
<section id="squirrel-objects">
<h2>Squirrel objects<a class="headerlink" href="#squirrel-objects" title="Permalink to this heading">¶</a></h2>
<p>Our Squirrel domain defines multiple <a class="reference internal" href="#objects">objects</a>.  Each object has a <em>signature</em> (think <em>type signature</em>), followed by an optional body (a description of that object).  The following example defines two objects: a variant of the <code class="docutils literal notranslate"><span class="pre">cs</span></code> tactic, and an error that it may raise.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-2-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-2-2-0" name="2-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-2-2-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-2-2-1" name="2-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-2-2-0" class="sphinx-tabs-panel" id="panel-2-2-0" name="2-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacn</span><span class="p">::</span> cs @pattern {? in @natural}
   <span class="nc">:name:</span> case_study

   Performs case study on conditionals inside an equivalence.

   Without a specific target, <span class="na">:g:</span><span class="nv">`cs phi`</span> will project all conditionals
   on phi in the equivalence. With a specific target, <span class="na">:g:</span><span class="nv">`cs phi in i`</span>
   will only project conditionals in the i-th item of the equivalence.

<span class="p">    ..</span> <span class="ow">example</span><span class="p">::</span>

       When proving an equivalence
       <span class="na">:g:</span><span class="nv">`equiv(if phi then t1 else t2, if phi then u1 else u2)`</span>
       invoking <span class="s">``nosimpl cs phi``</span> results in two subgoals:
       <span class="na">:g:</span><span class="nv">`equiv(phi, t1, u1)`</span> and <span class="na">:g:</span><span class="nv">`equiv(phi, t2, u2)`</span>

<span class="p">   ..</span> <span class="ow">exn</span><span class="p">::</span> Argument of cs should match a boolean.
      <span class="nc">:undocumented:</span>

<span class="p">   ..</span> <span class="ow">exn</span><span class="p">::</span> Did not find any conditional to analyze.
      <span class="nc">:undocumented:</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-2-1" class="sphinx-tabs-panel" hidden="true" id="panel-2-2-1" name="2-1" role="tabpanel" tabindex="0"><dl class="squirrel tacn">
<dt class="sig sig-object squirrel" id="id3">
<em class="property"><span class="sigannot"><span class="pre">Tactic</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">cs</span></span></span> <span class="hole"><span class="pre">pattern</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">in</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs case study on conditionals inside an equivalence.</p>
<p>Without a specific target, <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">cs</span></span><span> <span class="pre">phi</span></span></code> will project all conditionals
on phi in the equivalence. With a specific target, <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">cs</span></span><span> <span class="pre">phi</span> </span><span class="ansi-fg-light-blue"><span class="pre">in</span></span><span> <span class="pre">i</span></span></code>
will only project conditionals in the i-th item of the equivalence.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Example</p>
<p>When proving an equivalence
<code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">equiv</span></span><span><span class="pre">(</span></span><span class="ansi-fg-light-blue"><span class="pre">if</span></span><span> <span class="pre">phi</span> </span><span class="ansi-fg-light-blue"><span class="pre">then</span></span><span> <span class="pre">t1</span> </span><span class="ansi-fg-light-blue"><span class="pre">else</span></span><span> <span class="pre">t2,</span> </span><span class="ansi-fg-light-blue"><span class="pre">if</span></span><span> <span class="pre">phi</span> </span><span class="ansi-fg-light-blue"><span class="pre">then</span></span><span> <span class="pre">u1</span> </span><span class="ansi-fg-light-blue"><span class="pre">else</span></span><span> <span class="pre">u2)</span></span></code>
invoking <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">nosimpl</span></span><span> </span><span class="ansi-fg-light-blue"><span class="pre">cs</span></span><span> <span class="pre">phi</span></span></code> results in two subgoals:
<code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">equiv</span></span><span><span class="pre">(phi,</span> <span class="pre">t1,</span> <span class="pre">u1)</span></span></code> and <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">equiv</span></span><span><span class="pre">(phi,</span> <span class="pre">t2,</span> <span class="pre">u2)</span></span></code>.</p>
</div>
</div></blockquote>
<dl class="squirrel exn">
<dt class="sig sig-object squirrel" id="id4">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Argument</span></span></span> <span><span><span class="pre">of</span></span></span> <span><span><span class="pre">cs</span></span></span> <span><span><span class="pre">should</span></span></span> <span><span><span class="pre">match</span></span></span> <span><span><span class="pre">a</span></span></span> <span><span><span class="pre">boolean.</span></span></span></span></span><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="squirrel exn">
<dt class="sig sig-object squirrel" id="id5">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Did</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">find</span></span></span> <span><span><span class="pre">any</span></span></span> <span><span><span class="pre">conditional</span></span></span> <span><span><span class="pre">to</span></span></span> <span><span><span class="pre">analyze.</span></span></span></span></span><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></div>
<p>Or <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">fa</span></span></code> tactic :</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-3-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-3-3-0" name="3-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-3-3-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-3-3-1" name="3-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-3-3-0" class="sphinx-tabs-panel" id="panel-3-3-0" name="3-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacv</span><span class="p">::</span> _fa {?{| @natural | {+ @fa_arg}}}
   <span class="nc">:name:</span> _fa

   Apply the function application rule.

   Local sequent:
   When we have G =&gt; f(u) = f(v), produces the
   goal G =&gt; u=v. Produces as many subgoals as
   arugment of the head function symbol.
   Global sequent:

   To prove that a goal containing f(u1,...,un) is
   diff-equivalent, one can prove that the goal containing the
   sequence u1,...,un is diff-equivalent.

<span class="p">   ..</span> <span class="ow">exn</span><span class="p">::</span> improper arguments
      <span class="nc">:undocumented:</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-3-1" class="sphinx-tabs-panel" hidden="true" id="panel-3-3-1" name="3-1" role="tabpanel" tabindex="0"><dl class="squirrel tacv">
<dt class="sig sig-object squirrel" id="id6">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">fa</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span><span class="alternative-separator"><span class="pre">​</span></span><span class="alternative-block"><span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="proofs.html#grammar-token-fa_arg"><span class="hole"><span class="pre">fa_arg</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the function application rule.</p>
<p>Local sequent:
When we have G =&gt; f(u) = f(v), produces the
goal G =&gt; u=v. Produces as many subgoals as
arugment of the head function symbol.
Global sequent:</p>
<p>To prove that a goal containing f(u1,…,un) is
diff-equivalent, one can prove that the goal containing the
sequence u1,…,un is diff-equivalent.</p>
<dl class="squirrel exn">
<dt class="sig sig-object squirrel" id="id7">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">improper</span></span></span> <span><span><span class="pre">arguments</span></span></span></span></span><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></div>
<p>Objects are automatically collected into indices, and can be linked to using the role version of the object’s directive. For example, you could link to the tactic variant above using <code class="docutils literal notranslate"><span class="pre">:tacv:`fa`</span></code>, and to its exception using <code class="docutils literal notranslate"><span class="pre">:exn:`imporper</span> <span class="pre">arguments`</span></code>.</p>
<p>Names (link targets) are auto-generated for most simple objects, though they can always be overwritten using a <code class="docutils literal notranslate"><span class="pre">:name:</span></code> option, as shown above.</p>
<ul class="simple">
<li><p>Vernacs (commands) have their name set to the first word of their signature.  For example, the auto-generated name of <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">system</span></span><span> <span class="pre">&#64;</span></span><span class="ansi-fg-light-blue"><span class="pre">id</span></span><span> <span class="pre">=</span> <span class="pre">&#64;sys_descr</span> </span><span class="ansi-fg-light-blue"><span class="pre">with</span></span><span> <span class="pre">&#64;sys_modifier</span></span></code> is <code class="docutils literal notranslate"><span class="pre">system</span></code>, and a link to it would take the form <code class="docutils literal notranslate"><span class="pre">:cmd:`system`</span></code>.</p></li>
<li><p>Vernac variants, tactic notations, and tactic variants do not have a default name.</p></li>
</ul>
<p>Most objects should have a body (i.e. a block of indented text following the signature, called “contents” in Sphinx terms).  Undocumented objects should have the <code class="docutils literal notranslate"><span class="pre">:undocumented:</span></code> flag instead, as shown above.  When multiple objects have a single description, they can be grouped into a single object, like this (semicolons can be used to separate the names of the objects; names starting with <code class="docutils literal notranslate"><span class="pre">_</span></code> will be omitted from the indexes):</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-4-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-4-4-0" name="4-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-4-4-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-4-4-1" name="4-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-4-4-0" class="sphinx-tabs-panel" id="panel-4-4-0" name="4-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmdv</span><span class="p">::</span> _Lemma @ident {* @binder } : @type
          _Remark @ident {* @binder } : @type
          _kFact @ident {* @binder } : @type
          _Corollary @ident {* @binder } : @type
          _Proposition @ident {* @binder } : @type
   <span class="nc">:name:</span> _Lemma; _Remark; _Fact; _Corollary; _Proposition

   These commands are all synonyms of <span class="na">:n:</span><span class="nv">`_Theorem @ident {* @binder } : type`</span>.
</pre></div>
</div>
</div><div aria-labelledby="tab-4-4-1" class="sphinx-tabs-panel" hidden="true" id="panel-4-4-1" name="4-1" role="tabpanel" tabindex="0"><dl class="squirrel cmdv">
<dt class="sig sig-object squirrel" id="id8">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Lemma</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object squirrel" id="id9">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Remark</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object squirrel" id="id10">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Fact</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object squirrel" id="id11">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Corollary</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object squirrel" id="id12">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Proposition</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a></span></span><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>These commands are all synonyms of <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Theorem</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">*</span></span></span> <span><span><span class="pre">:</span></span></span> <span><span><span class="pre">type</span></span></span></span></code>.</p>
</dd></dl>

</div></div>
<section id="notations">
<h3>Notations<a class="headerlink" href="#notations" title="Permalink to this heading">¶</a></h3>
<p>The signatures of most objects can be written using a succinct DSL for Squirrel notations (think regular expressions written with a Lispy syntax).  A typical signature might look like <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Extern</span> <span class="pre">&#64;natural</span> <span class="pre">{?</span> <span class="pre">&#64;pattern}</span> <span class="pre">=&gt;</span> <span class="pre">&#64;tactic</span></code>, which means that the <code class="docutils literal notranslate"><span class="pre">Hint</span> <span class="pre">Extern</span></code> command takes a number (<code class="docutils literal notranslate"><span class="pre">natural</span></code>), followed by an optional pattern, and a mandatory tactic.  The language has the following constructs (the full grammar is in <a class="reference external" href="_ext/notations/TacticNotations.g">TacticNotations.g</a>):</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">&#64;…</span></code></dt><dd><p>A placeholder (<code class="docutils literal notranslate"><span class="pre">&#64;ident</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;natural</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;tactic</span></code>…)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{?</span> <span class="pre">…}</span></code></dt><dd><p>an optional block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{*</span> <span class="pre">…}</span></code>, <code class="docutils literal notranslate"><span class="pre">{+</span> <span class="pre">…}</span></code></dt><dd><p>an optional (<code class="docutils literal notranslate"><span class="pre">*</span></code>) or mandatory (<code class="docutils literal notranslate"><span class="pre">+</span></code>) block that can be repeated, with repetitions separated by spaces</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{*,</span> <span class="pre">…}</span></code>, <code class="docutils literal notranslate"><span class="pre">{+,</span> <span class="pre">…}</span></code></dt><dd><p>an optional or mandatory repeatable block, with repetitions separated by commas</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{|</span> <span class="pre">…</span> <span class="pre">|</span> <span class="pre">…</span> <span class="pre">|</span> <span class="pre">…</span> <span class="pre">}</span></code></dt><dd><p>an alternative, indicating than one of multiple constructs can be used</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">%{</span></code>, <code class="docutils literal notranslate"><span class="pre">%}</span></code>, <code class="docutils literal notranslate"><span class="pre">%|</span></code></dt><dd><p>an escaped character (rendered without the leading <code class="docutils literal notranslate"><span class="pre">%</span></code>).  In most cases,
escaping is not necessary.  In particular, the following expressions are
all parsed as plain text, and do not need escaping: <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">xyz</span> <span class="pre">}</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">|-</span> <span class="pre">y</span></code>.
But the following escapes <em>are</em> needed: <code class="docutils literal notranslate"><span class="pre">{|</span> <span class="pre">a</span> <span class="pre">b</span> <span class="pre">%|</span> <span class="pre">c</span> <span class="pre">|</span> <span class="pre">d</span> <span class="pre">}</span></code>, <code class="docutils literal notranslate"><span class="pre">all:</span> <span class="pre">%{</span></code>.
(We use <code class="docutils literal notranslate"><span class="pre">%</span></code> instead of the usual <code class="docutils literal notranslate"><span class="pre">\</span></code> because you’d have to type <code class="docutils literal notranslate"><span class="pre">\</span></code>
twice in your reStructuredText file.)</p>
<p>For more details and corner cases, see <a class="reference internal" href="#advanced-uses-of-notations">Advanced uses of notations</a> below.</p>
</dd>
</dl>
<p>As an exercise, what do the following patterns mean?</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-5-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-5-5-0" name="5-0" role="tab" tabindex="0">Code</button><button aria-controls="panel-5-5-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-5-5-1" name="5-1" role="tab" tabindex="-1">Result</button></div><div aria-labelledby="tab-5-5-0" class="sphinx-tabs-panel" id="panel-5-5-0" name="5-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>_pattern {+, @term {? at {+ @natural}}}
_generalize {+, @term at {+ @natural} as @ident}
_fix @ident @natural with {+ (@ident {+ @binder} {? {struct @ident&#39;}} : @type)}
</pre></div>
</div>
</div><div aria-labelledby="tab-5-5-1" class="sphinx-tabs-panel" hidden="true" id="panel-5-5-1" name="5-1" role="tabpanel" tabindex="0"><dl class="squirrel cmd">
<dt class="sig sig-object squirrel" id="id13">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">pattern</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">at</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span></span></span><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="squirrel cmd">
<dt class="sig sig-object squirrel" id="id14">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">generalize</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">at</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span> <span><span><span class="pre">as</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span></span></span><a class="headerlink" href="#id14" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="squirrel cmd">
<dt class="sig sig-object squirrel" id="id15">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">fix</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a> <span><span><span class="pre">with</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span><a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="logic.html#grammar-token-binder"><span class="hole"><span class="pre">binder</span></span></a></span><span class="notation-sup"><span class="pre">+</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span class="curlies"><span class="pre">{</span><span><span><span class="pre">struct</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a><span>'</span><span class="pre">}</span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-type"><span class="hole"><span class="pre">type</span></span></a><span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">+</span></span></span></span></span><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div></div>
</section>
<section id="objects">
<h3>Objects<a class="headerlink" href="#objects" title="Permalink to this heading">¶</a></h3>
<p>Here is the list of all objects of the Squirrel domain (The symbol ✒ indicates an object whose signature can be written using the notations DSL):</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">attr::</span></code> ✒ An attribute.</dt><dd><p>Example:</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-6-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-6-6-0" name="6-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-6-6-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-6-6-1" name="6-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-6-6-0" class="sphinx-tabs-panel" id="panel-6-6-0" name="6-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">attr</span><span class="p">::</span> _local
</pre></div>
</div>
</div><div aria-labelledby="tab-6-6-1" class="sphinx-tabs-panel" hidden="true" id="panel-6-6-1" name="6-1" role="tabpanel" tabindex="0"><dl class="squirrel attr">
<dt class="sig sig-object squirrel" id="id16">
<em class="property"><span class="sigannot"><span class="pre">Attribute</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">local</span></span></span></span></span><a class="headerlink" href="#id16" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div></div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">decl::</span></code> ✒ A Squirrel declaration.</dt><dd><p>Example:</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-7-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-7-7-0" name="7-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-7-7-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-7-7-1" name="7-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-7-7-0" class="sphinx-tabs-panel" id="panel-7-7-0" name="7-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">decl</span><span class="p">::</span> _lemma @string : @one_term {? ( {+, @syntax_modifier } ) } {? : @ident }

   This command is equivalent to
</pre></div>
</div>
</div><div aria-labelledby="tab-7-7-1" class="sphinx-tabs-panel" hidden="true" id="panel-7-7-1" name="7-1" role="tabpanel" tabindex="0"><dl class="squirrel decl">
<dt class="sig sig-object squirrel" id="id17">
<em class="property"><span class="sigannot"><span class="pre">Declaration</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">lemma</span></span></span> <span class="hole"><span class="pre">string</span></span> <span><span><span class="pre">:</span></span></span> <span class="hole"><span class="pre">one_term</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><span class="hole"><span class="pre">syntax_modifier</span></span></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is equivalent to</p>
</dd></dl>

</div></div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">cmd::</span></code> ✒ A Squirrel command.</dt><dd><p>Example:</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-8-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-8-8-0" name="8-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-8-8-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-8-8-1" name="8-1" role="tab" tabindex="-1">Produces</button></div><div aria-labelledby="tab-8-8-0" class="sphinx-tabs-panel" id="panel-8-8-0" name="8-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmd</span><span class="p">::</span> _Infix @string := @one_term {? ( {+, @syntax_modifier } ) } {? : @ident }

   This command is equivalent to <span class="na">:n:</span><span class="nv">`...`</span>.
</pre></div>
</div>
</div><div aria-labelledby="tab-8-8-1" class="sphinx-tabs-panel" hidden="true" id="panel-8-8-1" name="8-1" role="tabpanel" tabindex="0"><dl class="squirrel cmd">
<dt class="sig sig-object squirrel" id="id18">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Infix</span></span></span> <span class="hole"><span class="pre">string</span></span> <span><span><span class="pre">:=</span></span></span> <span class="hole"><span class="pre">one_term</span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">(</span></span></span> <span class="repeat-wrapper-with-sub"><span class="repeat"><span class="hole"><span class="pre">syntax_modifier</span></span></span><span class="notation-sup"><span class="pre">+</span></span><span class="notation-sub"><span class="pre">,</span></span></span> <span><span><span class="pre">)</span></span></span></span><span class="notation-sup"><span class="pre">?</span></span></span> <span class="repeat-wrapper"><span class="repeat"><span><span><span class="pre">:</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span><a class="headerlink" href="#id18" title="Permalink to this definition">¶</a></dt>
<dd><p>This command is equivalent to <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">...</span></span></span></span></code>.</p>
</dd></dl>

</div></div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">cmdv::</span></code> ✒ A variant of a Squirrel command.</dt><dd><p>Example:</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-9-9-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-9-9-0" name="9-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-9-9-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-9-9-1" name="9-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-9-9-0" class="sphinx-tabs-panel" id="panel-9-9-0" name="9-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmd</span><span class="p">::</span> _Axiom @ident : @term.

   This command links <span class="na">:token:</span><span class="nv">`term`</span> to the name <span class="na">:token:</span><span class="nv">`term`</span> as its specification in
   the global environment. The fact asserted by <span class="na">:token:</span><span class="nv">`term`</span> is thus assumed as a
   postulate.

<span class="p">   ..</span> <span class="ow">cmdv</span><span class="p">::</span> _Parameter @ident : @term.

      This is equivalent to <span class="na">:n:</span><span class="nv">`_Axiom @ident : @term`</span>.
</pre></div>
</div>
</div><div aria-labelledby="tab-9-9-1" class="sphinx-tabs-panel" hidden="true" id="panel-9-9-1" name="9-1" role="tabpanel" tabindex="0"><dl class="squirrel cmd">
<dt class="sig sig-object squirrel" id="id19">
<em class="property"><span class="sigannot"><span class="pre">Command</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Axiom</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">.</span></span></span></span></span><a class="headerlink" href="#id19" title="Permalink to this definition">¶</a></dt>
<dd><p>This command links <a class="reference internal" href="logic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a> to the name <a class="reference internal" href="logic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a> as its specification in
the global environment. The fact asserted by <a class="reference internal" href="logic.html#grammar-token-term"><code class="xref std std-token docutils literal notranslate"><span class="pre">term</span></code></a> is thus assumed as a
postulate.</p>
<dl class="squirrel cmdv">
<dt class="sig sig-object squirrel">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Parameter</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a><span><span><span class="pre">.</span></span></span></span></span></dt>
<dd><p>This is equivalent to <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Axiom</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a> <span><span><span class="pre">:</span></span></span> <a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code>.</p>
</dd></dl>

</dd></dl>

</div></div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">exn::</span></code> ✒ An error raised by a Squirrel command or tactic.</dt><dd><p>This commonly appears nested in the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tacn::</span></code> that raises the
exception.</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-10-10-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-10-10-0" name="10-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-10-10-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-10-10-1" name="10-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-10-10-0" class="sphinx-tabs-panel" id="panel-10-10-0" name="10-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacv</span><span class="p">::</span> _assert @form by @tactic

   This tactic applies <span class="na">:n:</span><span class="nv">`@tactic`</span> to solve the subgoals generated by
   <span class="s">``assert``</span>.

<span class="p">   ..</span> <span class="ow">exn</span><span class="p">::</span> Proof is not complete

      Raised if <span class="na">:n:</span><span class="nv">`@tactic`</span> does not fully solve the goal.
</pre></div>
</div>
</div><div aria-labelledby="tab-10-10-1" class="sphinx-tabs-panel" hidden="true" id="panel-10-10-1" name="10-1" role="tabpanel" tabindex="0"><dl class="squirrel tacv">
<dt class="sig sig-object squirrel">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">assert</span></span></span> <span class="hole"><span class="pre">form</span></span> <span><span><span class="pre">by</span></span></span> <a class="reference internal" href="proofs.html#grammar-token-tactic"><span class="hole"><span class="pre">tactic</span></span></a></span></span></dt>
<dd><p>This tactic applies <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="proofs.html#grammar-token-tactic"><span class="hole"><span class="pre">tactic</span></span></a></span></code> to solve the subgoals generated by
<code class="docutils literal notranslate"><span class="pre">assert</span></code>.</p>
<dl class="squirrel exn">
<dt class="sig sig-object squirrel" id="squirrel:exn.Proof-is-not-complete">
<em class="property"><span class="sigannot"><span class="pre">Error</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Proof</span></span></span> <span><span><span class="pre">is</span></span></span> <span><span><span class="pre">not</span></span></span> <span><span><span class="pre">complete</span></span></span></span></span><a class="headerlink" href="#squirrel:exn.Proof-is-not-complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if <code class="docutils literal notranslate"><span class="notation"><a class="reference internal" href="proofs.html#grammar-token-tactic"><span class="hole"><span class="pre">tactic</span></span></a></span></code> does not fully solve the goal.</p>
</dd></dl>

</dd></dl>

</div></div>
<p><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">flag::</span></code> ✒ A Squirrel flag (i.e. a boolean setting).</p>
<blockquote>
<div><p><strong>TODO</strong> we rather call them options in the tool.</p>
<p>Example:</p>
</div></blockquote>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-11-11-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-11-11-0" name="11-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-11-11-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-11-11-1" name="11-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-11-11-0" class="sphinx-tabs-panel" id="panel-11-11-0" name="11-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">flag</span><span class="p">::</span> postQuantumSound

   Perform extra checks to ensure that results
   are sound wrt a quantum adversary.
</pre></div>
</div>
</div><div aria-labelledby="tab-11-11-1" class="sphinx-tabs-panel" hidden="true" id="panel-11-11-1" name="11-1" role="tabpanel" tabindex="0"><dl class="squirrel flag">
<dt class="sig sig-object squirrel" id="squirrel:flag.Nonrecursive-Elimination-Schemes">
<em class="property"><span class="sigannot"><span class="pre">Flag</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">Nonrecursive</span></span></span> <span><span><span class="pre">Elimination</span></span></span> <span><span><span class="pre">Schemes</span></span></span></span></span><a class="headerlink" href="#squirrel:flag.Nonrecursive-Elimination-Schemes" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform extra checks to ensure that results
are sound wrt a quantum adversary.</p>
</dd></dl>

</div></div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">opt::</span></code> ✒ A Squirrel option (a setting with non-boolean value, e.g. a string or numeric value).</dt><dd><p>Example:</p>
</dd>
</dl>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-12-12-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-12-12-0" name="12-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-12-12-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-12-12-1" name="12-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-12-12-0" class="sphinx-tabs-panel" id="panel-12-12-0" name="12-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">opt</span><span class="p">::</span> _Hyps Limit @natural
   <span class="nc">:name:</span> _Hyps Limit

   Controls the maximum number of hypotheses displayed in goals after
   application of a tactic.
</pre></div>
</div>
</div><div aria-labelledby="tab-12-12-1" class="sphinx-tabs-panel" hidden="true" id="panel-12-12-1" name="12-1" role="tabpanel" tabindex="0"><dl class="squirrel opt">
<dt class="sig sig-object squirrel" id="id20">
<em class="property"><span class="sigannot"><span class="pre">Option</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Hyps</span></span></span> <span><span><span class="pre">Limit</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span></span><a class="headerlink" href="#id20" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the maximum number of hypotheses displayed in goals after
application of a tactic.</p>
</dd></dl>

</div></div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">prodn::</span></code> A grammar production.</dt><dd><p>Use <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">prodn</span></code> to document grammar productions instead of Sphinx
<a class="reference external" href="http://www.sphinx-doc.org/en/stable/markup/para.html#directive-productionlist">production lists</a>.</p>
<p>prodn displays multiple productions together with alignment similar to <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">productionlist</span></code>,
however unlike <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">productionlist</span></code>s, this directive accepts notation syntax.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-13-13-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-13-13-0" name="13-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-13-13-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-13-13-1" name="13-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-13-13-0" class="sphinx-tabs-panel" id="panel-13-13-0" name="13-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">prodn</span><span class="p">::</span> _occ_switch ::= { {? {| + | - } } {* @natural } }
         _term += let: @pattern := @_term in @_term
         <span class="o">|</span> _second_production
</pre></div>
</div>
</div><div aria-labelledby="tab-13-13-1" class="sphinx-tabs-panel" hidden="true" id="panel-13-13-1" name="13-1" role="tabpanel" tabindex="0"><blockquote>
<div><span class="prodn-table"><span class="prodn-column-group"><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span><span class="prodn-column"></span></span><span class="prodn-row-group"><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-_occ_switch"></span></span><span class="notation"><a class="reference internal" href="#grammar-token-_occ_switch"><span class="hole">_occ_switch</span></a></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">::=</span></code></span><span class="prodn-cell-production"><span class="notation"><span class="curlies">{ <span class="repeat-wrapper"><span class="repeat"><span class="repeated-alternative"><span class="alternative-block"><span><span>+</span></span></span><span class="alternative-separator">​</span><span class="alternative-block"><span><span>-</span></span></span></span></span><span class="notation-sup">?</span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole">natural</span></a></span><span class="notation-sup">*</span></span> }</span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><span class="prodn-target"><span class="target" id="grammar-token-_term"></span></span><span class="notation"><span class="hole">_term</span></span></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">+=</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>let:</span></span> <span class="hole">pattern</span> <span><span>:=</span></span> <span class="hole">_term</span> <span><span>in</span></span> <span class="hole">_term</span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span><span class="prodn-row"><span class="prodn-cell-nonterminal"><code class="docutils literal notranslate"></code></span><span class="prodn-cell-op"><code class="docutils literal notranslate"><span class="pre">|</span></code></span><span class="prodn-cell-production"><span class="notation"><span><span>_</span></span><span><span>second</span></span><span><span>_</span></span><span><span>production</span></span></span></span><span class="prodn-cell-tag"><code class="docutils literal notranslate"></code></span></span></span></span></div></blockquote>
<p>The first line defines “occ_switch”, which must be unique in the document.  The second
references and expands the definition of “term”, whose main definition is elsewhere
in the document.  The third form is for continuing the
definition of a nonterminal when it has multiple productions.  It leaves the first
column in the output blank.</p>
</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">table::</span></code> ✒ A Squirrel table, i.e. a setting that is a set of values.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-14-14-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-14-14-0" name="14-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-14-14-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-14-14-1" name="14-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-14-14-0" class="sphinx-tabs-panel" id="panel-14-14-0" name="14-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">table</span><span class="p">::</span> _Search Blacklist @string
   <span class="nc">:name:</span> _Search Blacklist

   Controls ...
</pre></div>
</div>
</div><div aria-labelledby="tab-14-14-1" class="sphinx-tabs-panel" hidden="true" id="panel-14-14-1" name="14-1" role="tabpanel" tabindex="0"><dl class="squirrel table">
<dt class="sig sig-object squirrel" id="id21">
<em class="property"><span class="sigannot"><span class="pre">Table</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Search</span></span></span> <span><span><span class="pre">Blacklist</span></span></span> <span class="hole"><span class="pre">string</span></span></span></span><a class="headerlink" href="#id21" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls …</p>
</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tacn::</span></code> ✒ A tactic, or a tactic notation.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-15-15-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-15-15-0" name="15-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-15-15-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-15-15-1" name="15-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-15-15-0" class="sphinx-tabs-panel" id="panel-15-15-0" name="15-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacn</span><span class="p">::</span> _do @natural @expr

   <span class="na">:token:</span><span class="nv">`expr`</span> is evaluated to <span class="s">``v``</span> which must be a tactic value...
</pre></div>
</div>
</div><div aria-labelledby="tab-15-15-1" class="sphinx-tabs-panel" hidden="true" id="panel-15-15-1" name="15-1" role="tabpanel" tabindex="0"><dl class="squirrel tacn">
<dt class="sig sig-object squirrel" id="id22">
<em class="property"><span class="sigannot"><span class="pre">Tactic</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">do</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a> <span class="hole"><span class="pre">expr</span></span></span></span><a class="headerlink" href="#id22" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref std std-token docutils literal notranslate"><span class="pre">expr</span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">v</span></code> which must be a tactic value…</p>
</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tacv::</span></code> ✒ A variant of a tactic.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-16-16-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-16-16-0" name="16-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-16-16-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-16-16-1" name="16-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-16-16-0" class="sphinx-tabs-panel" id="panel-16-16-0" name="16-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacn</span><span class="p">::</span> _fail

   This is the always-failing tactic: it does not solve any goal. It is
   useful for defining other tacticals since it can be caught by
   <span class="na">:tacn:</span><span class="nv">`try`</span>, <span class="na">:tacn:</span><span class="nv">`repeat`</span>, or the branching
   tacticals...

<span class="p">   ..</span> <span class="ow">tacv</span><span class="p">::</span> _fail @natural

      The number is the failure level. If no level is specified, it
      defaults to 0...
</pre></div>
</div>
</div><div aria-labelledby="tab-16-16-1" class="sphinx-tabs-panel" hidden="true" id="panel-16-16-1" name="16-1" role="tabpanel" tabindex="0"><dl class="squirrel tacn">
<dt class="sig sig-object squirrel" id="id23">
<em class="property"><span class="sigannot"><span class="pre">Tactic</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">fail</span></span></span></span></span><a class="headerlink" href="#id23" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the always-failing tactic: it does not solve any goal. It is
useful for defining other tacticals since it can be caught by
<a class="reference internal" href="proofs.html#squirrel:tacn.try" title="try"><code class="xref squirrel squirrel-tacn docutils literal notranslate"><span class="pre">try</span></code></a>, <a class="reference internal" href="proofs.html#squirrel:tacn.repeat" title="repeat"><code class="xref squirrel squirrel-tacn docutils literal notranslate"><span class="pre">repeat</span></code></a>, or the branching
tacticals…</p>
<dl class="squirrel tacv">
<dt class="sig sig-object squirrel">
<em class="property"><span class="sigannot"><span class="pre">Variant</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">fail</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span></span></dt>
<dd><p>The number is the failure level. If no level is specified, it
defaults to 0…</p>
</dd></dl>

</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tact::</span></code> ✒ A tactic, or a tactic notation over trace.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-17-17-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-17-17-0" name="17-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-17-17-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-17-17-1" name="17-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-17-17-0" class="sphinx-tabs-panel" id="panel-17-17-0" name="17-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tact</span><span class="p">::</span> true

   Solves a goal when the conclusion is true.
</pre></div>
</div>
</div><div aria-labelledby="tab-17-17-1" class="sphinx-tabs-panel" hidden="true" id="panel-17-17-1" name="17-1" role="tabpanel" tabindex="0"><dl class="squirrel tact">
<dt class="sig sig-object squirrel">
<em class="property"><span class="sigannot"><span class="pre">TraceTactic</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">true</span></span></span></span></span></dt>
<dd><p>Solves a goal when the conclusion is true.</p>
</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">tace::</span></code> ✒ A tactic, or a tactic notation over equivalence.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-18-18-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-18-18-0" name="18-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-18-18-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-18-18-1" name="18-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-18-18-0" class="sphinx-tabs-panel" id="panel-18-18-0" name="18-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tace</span><span class="p">::</span> deduce {? @natural }

   Invoking <span class="na">:g:</span><span class="nv">`deduce i`</span> removes the ith element from the biframe when it can be computed from the rest of the bi-frame.
   <span class="na">:g:</span><span class="nv">`deduce`</span> try to deduce the biframe with the first equivalence in the hypotheses it finds.
</pre></div>
</div>
</div><div aria-labelledby="tab-18-18-1" class="sphinx-tabs-panel" hidden="true" id="panel-18-18-1" name="18-1" role="tabpanel" tabindex="0"><dl class="squirrel tace">
<dt class="sig sig-object squirrel">
<em class="property"><span class="sigannot"><span class="pre">EquivTactic</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">deduce</span></span></span> <span class="repeat-wrapper"><span class="repeat"><a class="reference internal" href="reference-intro.html#grammar-token-natural"><span class="hole"><span class="pre">natural</span></span></a></span><span class="notation-sup"><span class="pre">?</span></span></span></span></span></dt>
<dd><p>Invoking <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">deduce</span></span><span> <span class="pre">i</span></span></code> removes the ith element from the biframe when it can be computed from the rest of the bi-frame.
<code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">deduce</span></span></code> try to deduce the biframe with the first equivalence in the hypotheses it finds.</p>
</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">thm::</span></code> A theorem.</dt><dd><p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-19-19-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-19-19-0" name="19-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-19-19-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-19-19-1" name="19-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-19-19-0" class="sphinx-tabs-panel" id="panel-19-19-0" name="19-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">thm</span><span class="p">::</span> _Bound on the ceiling function

   Let <span class="na">:math:</span><span class="nv">`p`</span> be an integer and <span class="na">:math:</span><span class="nv">`c`</span> a rational constant. Then
   <span class="na">:math:</span><span class="nv">`p \ge c \rightarrow p \ge \lceil{c}\rceil`</span>.
</pre></div>
</div>
</div><div aria-labelledby="tab-19-19-1" class="sphinx-tabs-panel" hidden="true" id="panel-19-19-1" name="19-1" role="tabpanel" tabindex="0"><dl class="squirrel thm">
<dt class="sig sig-object squirrel" id="id24">
<em class="property"><span class="sigannot"><span class="pre">Theorem</span></span></em> <span class="sig-name descname"><span class="pre">_Bound</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">ceiling</span> <span class="pre">function</span></span><a class="headerlink" href="#id24" title="Permalink to this definition">¶</a></dt>
<dd><p>Let <span class="math notranslate nohighlight">\(p\)</span> be an integer and <span class="math notranslate nohighlight">\(c\)</span> a rational constant. Then
<span class="math notranslate nohighlight">\(p \ge c \rightarrow p \ge \lceil{c}\rceil\)</span>.</p>
</dd></dl>

</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">warn::</span></code> ✒ An warning raised by a Squirrel command or tactic..</dt><dd><p>Do not mistake this for <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">warning::</span></code>; this directive is for warning
messages produced by Squirrel.</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-20-20-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-20-20-0" name="20-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-20-20-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-20-20-1" name="20-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-20-20-0" class="sphinx-tabs-panel" id="panel-20-20-0" name="20-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">warn</span><span class="p">::</span> _Ambiguous path

   When the coercion <span class="na">:token:</span><span class="nv">`qualid`</span> is added to the inheritance graph, non
   valid coercion paths are ignored.
</pre></div>
</div>
</div><div aria-labelledby="tab-20-20-1" class="sphinx-tabs-panel" hidden="true" id="panel-20-20-1" name="20-1" role="tabpanel" tabindex="0"><dl class="squirrel warn">
<dt class="sig sig-object squirrel" id="id25">
<em class="property"><span class="sigannot"><span class="pre">Warning</span></span></em> <span class="sig-name descname"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">Ambiguous</span></span></span> <span><span><span class="pre">path</span></span></span></span></span><a class="headerlink" href="#id25" title="Permalink to this definition">¶</a></dt>
<dd><p>When the coercion <code class="xref std std-token docutils literal notranslate"><span class="pre">qualid</span></code> is added to the inheritance graph, non
valid coercion paths are ignored.</p>
</dd></dl>

</div></div>
</dd>
</dl>
</section>
</section>
<section id="squirrel-directives">
<h2>Squirrel directives<a class="headerlink" href="#squirrel-directives" title="Permalink to this heading">¶</a></h2>
<p>In addition to the objects above, the <code class="docutils literal notranslate"><span class="pre">squirreldomain</span></code> Sphinx plugin defines the following directives:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span></code> A reST directive to describe interactions with Squirrel.</dt><dd><p>Usage:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> options...

   code to be executed by Squirrel
</pre></div>
</div>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-21-21-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-21-21-0" name="21-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-21-21-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-21-21-1" name="21-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-21-21-0" class="sphinx-tabs-panel" id="panel-21-21-0" name="21-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> all

   (<span class="ge">* comment *</span>)
   name n:message.
   name s:message.
   hash h.
   lemma [any] toto : true=&gt;true.
   Proof.
      admit.
   Qed.
   print toto.
</pre></div>
</div>
</div><div aria-labelledby="tab-21-21-1" class="sphinx-tabs-panel" hidden="true" id="panel-21-21-1" name="21-1" role="tabpanel" tabindex="0"><div class="squirreltop literal-block docutils container">
<span></span><dl>
<dt><span class="ansi-fg-light-black">(*</span><span class="ansi-fg-light-black"> comment </span><span class="ansi-fg-light-black">*)</span><span>
</span></dt><dt><span class="ansi-fg-light-blue">name</span><span> n:</span><span class="ansi-fg-light-cyan">message</span><span>.
</span></dt><dd><span>global </span><span class="ansi-fg-red">axiom</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> [any] namelength_n : [</span><span class="ansi-bold">len</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-fg-yellow">n</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">namelength_message</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">]</span></dd>
<dt><span class="ansi-fg-light-blue">name</span><span> s:</span><span class="ansi-fg-light-cyan">message</span><span>.
</span></dt><dd><span>global </span><span class="ansi-fg-red">axiom</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> [any] namelength_s : [</span><span class="ansi-bold">len</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-fg-yellow">s</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">namelength_message</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">]</span></dd>
<dt><span class="ansi-fg-light-blue">hash</span><span> h.
</span></dt><dd></dd>
<dt><span>lemma [</span><span class="ansi-fg-light-blue">any</span><span>] toto : </span><span class="ansi-fg-light-cyan">true</span><span>=&gt;</span><span class="ansi-fg-light-cyan">true</span><span>.
</span></dt><dd><span>Goal toto :
  </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span></dd>
<dt><span class="ansi-fg-light-blue">Proof</span><span>.
</span></dt><dd><span>[goal&gt; Focused goal (1/1):
System: any
</span><span class="ansi-bold">—————————————-</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> 
</span><span>
</span></dd>
<dt><span>   </span><span class="ansi-fg-light-red">admit</span><span>.
</span></dt><dd><span>[goal&gt; lemma toto is proved
</span><span>
</span></dd>
<dt><span class="ansi-fg-light-blue">Qed</span><span>.
</span></dt><dd><span class="ansi-fg-red">lemma</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> [any] toto : </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
Exiting proof mode.
</span><span>
</span></dd>
<dt><span class="ansi-fg-light-blue">print</span><span> toto.
</span></dt><dd><span class="ansi-fg-red">lemma</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> [any] toto : </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span></dd>
</dl>
</div>
</div></div>
<p>The blank line after the directive is required.  If you begin a proof,
use the <code class="docutils literal notranslate"><span class="pre">abort</span></code> option to reset squirrel for the next example.</p>
<p>Here is a list of permissible options:</p>
<ul class="simple">
<li><p>Display options (choose exactly one)</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code>: Display input and output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in</span></code>: Display only input</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">out</span></code>: Display only output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code>: Display neither (useful for setup commands)</p></li>
</ul>
</li>
<li><p>Behavior options</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">reset</span></code>: Send a <code class="docutils literal notranslate"><span class="pre">Reset.</span></code> command before running this block</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abort</span></code>: Send an <code class="docutils literal notranslate"><span class="pre">Abort.</span></code> command after running this block (leaves all pending proofs if any)</p></li>
</ul>
</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">squirreltop</span></code>‘s state is preserved across consecutive <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span></code> blocks
of the same document (<code class="docutils literal notranslate"><span class="pre">squirrelrst</span></code> creates a single <code class="docutils literal notranslate"><span class="pre">squirreltop</span></code> process per
reST source file).  Use the <code class="docutils literal notranslate"><span class="pre">reset</span></code> option to reset Squirrel’s state.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-22-22-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-22-22-0" name="22-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-22-22-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-22-22-1" name="22-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-22-22-0" class="sphinx-tabs-panel" id="panel-22-22-0" name="22-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> abort all

   lemma [any] tutu : true=&gt;true.
   Proof.

<span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> all

   print tutu.
   print toto.

<span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> reset all

   print toto.
</pre></div>
</div>
</div><div aria-labelledby="tab-22-22-1" class="sphinx-tabs-panel" hidden="true" id="panel-22-22-1" name="22-1" role="tabpanel" tabindex="0"><div class="squirreltop literal-block docutils container">
<span></span><dl>
<dt><span>lemma [</span><span class="ansi-fg-light-blue">any</span><span>] tutu : </span><span class="ansi-fg-light-cyan">true</span><span>=&gt;</span><span class="ansi-fg-light-cyan">true</span><span>.
</span></dt><dd><span>Goal tutu :
  </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span></dd>
<dt><span class="ansi-fg-light-blue">Proof</span><span>.
</span></dt><dd><span>[goal&gt; Focused goal (1/1):
System: any
</span><span class="ansi-bold">—————————————-</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> 
</span><span>
</span></dd>
</dl>
<span></span><dl>
<dt><span class="ansi-fg-light-blue">print</span><span> tutu.
</span></dt><dd><span>tutu not found
</span></dd>
<dt><span class="ansi-fg-light-blue">print</span><span> toto.
</span></dt><dd><span class="ansi-fg-red">lemma</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> [any] toto : </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">=&gt;</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default"> </span><span class="ansi-bold">true</span><span class="ansi-no-bold ansi-no-underline ansi-fg-default">
</span></dd>
</dl>
<span class="squirreltop-reset"></span><dl>
<dt><span class="ansi-fg-light-blue">print</span><span> toto.
</span></dt><dd><span>toto not found
</span></dd>
</dl>
</div>
</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreldoc::</span></code> A reST directive to display squirreltop-formatted source code.</dt><dd><p>Usage:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

   squirrel code to highlight.
</pre></div>
</div>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-23-23-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-23-23-0" name="23-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-23-23-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-23-23-1" name="23-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-23-23-0" class="sphinx-tabs-panel" id="panel-23-23-0" name="23-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

  name key  : index -&gt; message
  name key&#39; : index * index -&gt; message

  (<span class="ge">* Finally, we declare the channels used by the protocol. *</span>)

  channel cT
  channel cR.

  process tag(i:index,k:index) =
    new nT;
    out(cT, &lt;nT, h(nT,diff(key(i),key&#39;(i,k)))&gt;).

  process reader(j:index) =
    in(cT,x);
    if exists (i,k:index), snd(x) = h(fst(x),diff(key(i),key&#39;(i,k))) then
      out(cR,ok)
    else
      out(cR,ko).

  (* The system is finally defined by putting an unbounded number of tag and
      reader processes in parallel.
      This system is automatically translated to a set of actions:

      <span class="m">*</span> the initial action (<span class="nv">`init`</span>);
      <span class="m">*</span> one action for the tag (<span class="nv">`T`</span>);
      <span class="m">*</span> two actions for the reader, corresponding to the two branches of the
        conditional (respectively <span class="nv">`R`</span> and <span class="nv">`R1`</span>). *)

  system [BasicHash] ((!_j R: reader(j)) | (!_i !_k T: tag(i,k))).

  lemma [BasicHash] wa_R :
    forall (tau:timestamp),
      happens(tau) =&gt;
      ((exists (i,k:index),
         snd(input@tau) = h(fst(input@tau),diff(key(i),key&#39;(i,k))))
       &lt;=&gt;
       (exists (i,k:index), T(i,k) &lt; tau &amp;&amp;
         fst(output@T(i,k)) = fst(input@tau) &amp;&amp;
         snd(output@T(i,k)) = snd(input@tau))).
</pre></div>
</div>
</div><div aria-labelledby="tab-23-23-1" class="sphinx-tabs-panel" hidden="true" id="panel-23-23-1" name="23-1" role="tabpanel" tabindex="0"><div class="squirreltop literal-block docutils container">
<dl class="simple">
<dt class="in"><span class="ansi-fg-light-blue">name</span><span> key  : </span><span class="ansi-fg-light-cyan">index</span><span> -&gt; </span><span class="ansi-fg-light-cyan">message</span><span>
</span></dt><dt class="in"><span class="ansi-fg-light-blue">name</span><span> key’ : </span><span class="ansi-fg-light-cyan">index</span><span> * </span><span class="ansi-fg-light-cyan">index</span><span> -&gt; </span><span class="ansi-fg-light-cyan">message</span><span>
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-black">(*</span><span class="ansi-fg-light-black"> Finally, we declare the channels used by the protocol. </span><span class="ansi-fg-light-black">*)</span><span>
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-blue">channel</span><span> cT
</span></dt><dt class="in"><span class="ansi-fg-light-blue">channel</span><span> cR.
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-blue">process</span><span> tag(i:</span><span class="ansi-fg-light-cyan">index</span><span>,k:</span><span class="ansi-fg-light-cyan">index</span><span>) =
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">new</span><span> nT;
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">out</span><span>(cT, &lt;nT, h(nT,</span><span class="ansi-fg-light-green">diff</span><span>(key(i),key’(i,k)))&gt;).
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-blue">process</span><span> reader(j:</span><span class="ansi-fg-light-cyan">index</span><span>) =
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">in</span><span>(cT,x);
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">if</span><span> </span><span class="ansi-fg-light-blue">exists</span><span> (i,k:</span><span class="ansi-fg-light-cyan">index</span><span>), snd(x) = h(fst(x),</span><span class="ansi-fg-light-green">diff</span><span>(key(i),key’(i,k))) </span><span class="ansi-fg-light-blue">then</span><span>
</span></dt><dt class="in"><span>    </span><span class="ansi-fg-light-blue">out</span><span>(cR,ok)
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">else</span><span>
</span></dt><dt class="in"><span>    </span><span class="ansi-fg-light-blue">out</span><span>(cR,ko).
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-black">(*</span><span class="ansi-fg-light-black"> The system is finally defined by putting an unbounded number of tag and</span><span>
</span></dt><dt class="in"><span>    reader processes </span><span class="ansi-fg-light-blue">in</span><span> parallel.
</span></dt><dt class="in"><span>    This </span><span class="ansi-fg-light-blue">system</span><span> is automatically translated to a </span><span class="ansi-fg-light-blue">set</span><span> of actions:
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span>    * the initial </span><span class="ansi-fg-light-blue">action</span><span> (`init`);
</span></dt><dt class="in"><span>    * one </span><span class="ansi-fg-light-blue">action</span><span> for the tag (`T`);
</span></dt><dt class="in"><span>    * two actions for the reader, corresponding to the two branches of the
</span></dt><dt class="in"><span>      conditional (respectively `R` and `R1`). *)
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span class="ansi-fg-light-blue">system</span><span> [BasicHash] ((!_j R: reader(j)) | (!_i !_k T: tag(i,k))).
</span></dt><dt class="in"><span>
</span></dt><dt class="in"><span>lemma [BasicHash] wa_R :
</span></dt><dt class="in"><span>  </span><span class="ansi-fg-light-blue">forall</span><span> (tau:</span><span class="ansi-fg-light-cyan">timestamp</span><span>),
</span></dt><dt class="in"><span>    </span><span class="ansi-fg-light-green">happens</span><span>(tau) =&gt;
</span></dt><dt class="in"><span>    ((</span><span class="ansi-fg-light-blue">exists</span><span> (i,k:</span><span class="ansi-fg-light-cyan">index</span><span>),
</span></dt><dt class="in"><span>       snd(</span><span class="ansi-fg-light-green">input</span><span>&#64;tau) = h(fst(</span><span class="ansi-fg-light-green">input</span><span>&#64;tau),</span><span class="ansi-fg-light-green">diff</span><span>(key(i),key’(i,k))))
</span></dt><dt class="in"><span>     &lt;=&gt;
</span></dt><dt class="in"><span>     (</span><span class="ansi-fg-light-blue">exists</span><span> (i,k:</span><span class="ansi-fg-light-cyan">index</span><span>), T(i,k) &lt; tau &amp;&amp;
</span></dt><dt class="in"><span>       fst(</span><span class="ansi-fg-light-green">output</span><span>&#64;T(i,k)) = fst(</span><span class="ansi-fg-light-green">input</span><span>&#64;tau) &amp;&amp;
</span></dt><dt class="in"><span>       snd(</span><span class="ansi-fg-light-green">output</span><span>&#64;T(i,k)) = snd(</span><span class="ansi-fg-light-green">input</span><span>&#64;tau))).
</span></dt></dl>
</div>
</div></div>
</dd>
</dl>
<p>This is not equivalent to <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span> <span class="pre">in</span></code> since none of the given content is sent to <code class="docutils literal notranslate"><span class="pre">squirreltop</span></code> and then take time to be computed when doc is generated !</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">example::</span></code> A reST directive for examples.</dt><dd><p>This behaves like a generic admonition; see
<a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#generic-admonition">http://docutils.sourceforge.net/docs/ref/rst/directives.html#generic-admonition</a>
for more details.</p>
<p>Optionally, any text immediately following the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">example::</span></code> header is
used as the example’s title.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-24-24-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-24-24-0" name="24-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-24-24-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-24-24-1" name="24-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-24-24-0" class="sphinx-tabs-panel" id="panel-24-24-0" name="24-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">example</span><span class="p">::</span> Adding a hint to the automatic constraint solving procedure

   The following adds <span class="s">``not_true``</span> to the solver

<span class="p">   ..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

     axiom [any] not_true : not(true) = false.
     hint rewrite not_true.
</pre></div>
</div>
</div><div aria-labelledby="tab-24-24-1" class="sphinx-tabs-panel" hidden="true" id="panel-24-24-1" name="24-1" role="tabpanel" tabindex="0"><div class="admonition note">
<p class="admonition-title">Example: Adding a hint to the automatic constraint solving procedure</p>
<p>The following adds <code class="docutils literal notranslate"><span class="pre">not_true</span></code> to the solver</p>
<div class="squirreltop literal-block docutils container">
<dl class="simple">
<dt class="in"><span class="ansi-fg-light-blue">axiom</span><span> [</span><span class="ansi-fg-light-blue">any</span><span>] not_true : not(</span><span class="ansi-fg-light-cyan">true</span><span>) = </span><span class="ansi-fg-light-cyan">false</span><span>.
</span></dt><dt class="in"><span class="ansi-fg-light-blue">hint</span><span> </span><span class="ansi-fg-light-blue">rewrite</span><span> not_true.
</span></dt></dl>
</div>
</div>
</div></div>
</dd>
</dl>
</section>
<section id="squirrel-roles">
<h2>Squirrel roles<a class="headerlink" href="#squirrel-roles" title="Permalink to this heading">¶</a></h2>
<p>In addition to the objects and directives above, the <code class="docutils literal notranslate"><span class="pre">squirrelrst</span></code> Sphinx plugin defines the following roles:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">:g:</span></code> Squirrel code.</dt><dd><p>Use this for Squirrel snippets:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-25-25-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-25-25-0" name="25-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-25-25-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-25-25-1" name="25-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-25-25-0" class="sphinx-tabs-panel" id="panel-25-25-0" name="25-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Apply tactics <span class="na">:g:</span><span class="nv">`apply not_true; reflexivity`</span>
or set options
<span class="na">:g:</span><span class="nv">`set postQuantumSound=true.`</span>
or declare
<span class="na">:g:</span><span class="nv">`(forall (a:&#39;a), true) = true.`</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-25-25-1" class="sphinx-tabs-panel" hidden="true" id="panel-25-25-1" name="25-1" role="tabpanel" tabindex="0"><p>Apply tactics <code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">apply</span></span><span> <span class="pre">not_true;</span> <span class="pre">reflexivity</span></span></code>
or set options
<code class="squirrelinline docutils literal notranslate"><span class="ansi-fg-light-blue"><span class="pre">set</span></span><span> <span class="pre">postQuantumSound=</span></span><span class="ansi-fg-light-cyan"><span class="pre">true</span></span><span><span class="pre">.</span></span></code>
or declare
<code class="squirrelinline docutils literal notranslate"><span><span class="pre">(</span></span><span class="ansi-fg-light-blue"><span class="pre">forall</span></span><span> <span class="pre">(a:</span></span><span class="ansi-fg-light-blue"><span class="pre">'</span></span><span><span class="pre">a),</span> </span><span class="ansi-fg-light-cyan"><span class="pre">true</span></span><span><span class="pre">)</span> <span class="pre">=</span> </span><span class="ansi-fg-light-cyan"><span class="pre">true</span></span><span><span class="pre">.</span></span></code></p>
</div></div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:n:</span></code> Any text using the notation syntax (<code class="docutils literal notranslate"><span class="pre">&#64;id</span></code>, <code class="docutils literal notranslate"><span class="pre">{+,</span> <span class="pre">…}</span></code>, etc.).</dt><dd><p>Use this to explain tactic equivalences.  For example, you might write
this:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-26-26-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-26-26-0" name="26-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-26-26-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-26-26-1" name="26-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-26-26-0" class="sphinx-tabs-panel" id="panel-26-26-0" name="26-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="na">:n:</span><span class="nv">`_generalize @term as @ident`</span> is just like <span class="na">:n:</span><span class="nv">`_generalize @term`</span>, but
it names the introduced hypothesis <span class="na">:token:</span><span class="nv">`identifier`</span>.
</pre></div>
</div>
</div><div aria-labelledby="tab-26-26-1" class="sphinx-tabs-panel" hidden="true" id="panel-26-26-1" name="26-1" role="tabpanel" tabindex="0"><p><code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">generalize</span></span></span> <a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a> <span><span><span class="pre">as</span></span></span> <a class="reference internal" href="reference-intro.html#grammar-token-ident"><span class="hole"><span class="pre">ident</span></span></a></span></code> is just like <code class="docutils literal notranslate"><span class="notation"><span><span><span class="pre">_</span></span></span><span><span><span class="pre">generalize</span></span></span> <a class="reference internal" href="logic.html#grammar-token-term"><span class="hole"><span class="pre">term</span></span></a></span></code>, but
it names the introduced hypothesis <code class="xref std std-token docutils literal notranslate"><span class="pre">identifier</span></code>.</p>
</div></div>
<p>Note that this example also uses <code class="docutils literal notranslate"><span class="pre">:token:</span></code>.  That’s because <code class="docutils literal notranslate"><span class="pre">identifier</span></code> is
defined in the Squirrel manual as a grammar production, and <code class="docutils literal notranslate"><span class="pre">:token:</span></code>
creates a link to that.  When referring to a placeholder that happens to be
a grammar production, <code class="docutils literal notranslate"><span class="pre">:token:`…`</span></code> is typically preferable to <code class="docutils literal notranslate"><span class="pre">:n:`&#64;…`</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">:gdef:</span></code> Marks the definition of a glossary term inline in the text.</dt><dd><p>Matching <code class="docutils literal notranslate"><span class="pre">:term:`XXX`</span></code> constructs will link to it.
Use the form <code class="docutils literal notranslate"><span class="pre">:gdef:`text</span> <span class="pre">&lt;term&gt;`</span></code> to display “text”
for the definition of “term”, such as when
“term” must be capitalized or plural for grammatical reasons.
The term will also appear in the <a class="reference internal" href="std-glossindex.html#glossary-index"><span class="std std-ref">glossary index</span></a>.</p>
<p>Examples:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-27-27-0" aria-selected="true" class="sphinx-tabs-tab" id="tab-27-27-0" name="27-0" role="tab" tabindex="0">reStructuredText</button><button aria-controls="panel-27-27-1" aria-selected="false" class="sphinx-tabs-tab" id="tab-27-27-1" name="27-1" role="tab" tabindex="-1">produces</button></div><div aria-labelledby="tab-27-27-0" class="sphinx-tabs-panel" id="panel-27-27-0" name="27-0" role="tabpanel" tabindex="0"><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>A <span class="na">:gdef:</span><span class="nv">`prime`</span> number is divisible only by itself and 1.
<span class="na">:gdef:</span><span class="nv">`Composite &lt;composite&gt;`</span> numbers are the non-prime numbers.
</pre></div>
</div>
</div><div aria-labelledby="tab-27-27-1" class="sphinx-tabs-panel" hidden="true" id="panel-27-27-1" name="27-1" role="tabpanel" tabindex="0"><p>A <span class="term-defn"><span class="target" id="term-prime"></span>prime</span> number is divisible only by itself and 1.
<span class="term-defn"><span class="target" id="term-composite"></span>Composite</span> numbers are the non-prime numbers.</p>
</div></div>
</dd>
</dl>
</section>
<section id="common-mistakes">
<h2>Common mistakes<a class="headerlink" href="#common-mistakes" title="Permalink to this heading">¶</a></h2>
<section id="improper-nesting">
<h3>Improper nesting<a class="headerlink" href="#improper-nesting" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmd</span><span class="p">::</span> Foo @bar

   Foo the first instance of <span class="na">:token:</span><span class="nv">`bar`</span>\ s.

<span class="p">   ..</span> <span class="ow">cmdv</span><span class="p">::</span> Foo All

      Foo all the <span class="na">:token:</span><span class="nv">`bar`</span>\ s in
      the current context
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">cmd</span><span class="p">::</span> Foo @bar

Foo the first instance of <span class="na">:token:</span><span class="nv">`bar`</span>\ s.

<span class="p">..</span> <span class="ow">cmdv</span><span class="p">::</span> Foo All

Foo all the <span class="na">:token:</span><span class="nv">`bar`</span>\ s in
the current context
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="overusing-token">
<h3>Overusing <code class="docutils literal notranslate"><span class="pre">:token:</span></code><a class="headerlink" href="#overusing-token" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is equivalent to <span class="na">:n:</span><span class="nv">`_Axiom @ident : @term`</span>.
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>This is equivalent to <span class="s">``_Axiom``</span> <span class="na">:token:</span><span class="nv">`identifier`</span> : <span class="na">:token:</span><span class="nv">`term`</span>.
</pre></div>
</div>
</dd>
</dl>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="na">:n:</span><span class="nv">`power_tac @term [@ltac]`</span>
  allows <span class="na">:tacn:</span><span class="nv">`ring`</span> and <span class="na">:tacn:</span><span class="nv">`ring_simplify`</span> to recognize...
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>power_tac <span class="na">:n:</span><span class="nv">`@term`</span> [<span class="na">:n:</span><span class="nv">`@ltac`</span>]
  allows <span class="na">:tacn:</span><span class="nv">`ring`</span> and <span class="na">:tacn:</span><span class="nv">`ring_simplify`</span> to recognize...
</pre></div>
</div>
</dd>
</dl>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="na">:n:</span><span class="nv">`name={*; attr}`</span>
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="s">``name=``</span><span class="na">:n:</span><span class="nv">`{*; attr}`</span>
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="omitting-annotations">
<h3>Omitting annotations<a class="headerlink" href="#omitting-annotations" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacv</span><span class="p">::</span> _assert @form as @simple_intropattern
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">tacv</span><span class="p">::</span> _assert form as simple_intropattern
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="using-the-squirreltop-directive-for-syntax-highlighting">
<h3>Using the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span></code> directive for syntax highlighting<a class="headerlink" href="#using-the-squirreltop-directive-for-syntax-highlighting" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>A tactic of the form:

<span class="p">..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

   do [ t1 | … | tn ].

is equivalent to the standard Ltac expression:

<span class="p">..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

   first [ t1 | … | tn ].
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>A tactic of the form:

<span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> in

   do [ t1 | … | tn ].

is equivalent to the standard Ltac expression:

<span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> in

   first [ t1 | … | tn ].
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="overusing-plain-quotes">
<h3>Overusing plain quotes<a class="headerlink" href="#overusing-plain-quotes" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>The <span class="na">:tacn:</span><span class="nv">`refine`</span> tactic can raise the <span class="na">:exn:</span><span class="nv">`Invalid argument`</span> exception.
The term <span class="na">:g:</span><span class="nv">`let a = 1 in a a`</span> is ill-typed.
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>The <span class="s">``refine``</span> tactic can raise the <span class="s">``Invalid argument``</span> exception.
The term <span class="s">``let a = 1 in a a``</span> is ill-typed.
</pre></div>
</div>
</dd>
</dl>
<p>Plain quotes produce plain text, without highlighting or cross-references.</p>
</section>
<section id="overusing-the-example-directive">
<h3>Overusing the <code class="docutils literal notranslate"><span class="pre">example</span></code> directive<a class="headerlink" href="#overusing-the-example-directive" title="Permalink to this heading">¶</a></h3>
<dl>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Here is a useful axiom:

<span class="p">..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

   Axiom proof_irrelevance : forall (P : Prop) (x y : P), x=y.
</pre></div>
</div>
</dd>
<dt>DO</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">example</span><span class="p">::</span> Using proof-irrelevance

   If you assume the axiom above
</pre></div>
</div>
</dd>
<dt>DON’T</dt><dd><div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Here is a useful axiom:

<span class="p">..</span> <span class="ow">example</span><span class="p">::</span>

<span class="p">   ..</span> <span class="ow">squirreldoc</span><span class="p">::</span>

      Axiom proof_irrelevance : forall (P : Prop) (x y : P), x=y.
</pre></div>
</div>
</dd>
</dl>
</section>
</section>
<section id="tips-and-tricks">
<h2>Tips and tricks<a class="headerlink" href="#tips-and-tricks" title="Permalink to this heading">¶</a></h2>
<section id="nested-lemmas">
<h3>Nested lemmas<a class="headerlink" href="#nested-lemmas" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">squirreltop::</span></code> directive does <em>not</em> reset Squirrel after running its contents.  That is, the following will create two nested lemmas (which by default results in a failure):</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> all

   lemma l1: 1 + 1 = 2.

<span class="p">..</span> <span class="ow">squirreltop</span><span class="p">::</span> all

   lemma l2: 2 + 2 &lt;&gt; 1.
</pre></div>
</div>
<p>Add either <code class="docutils literal notranslate"><span class="pre">abort</span></code> to the first block or <code class="docutils literal notranslate"><span class="pre">reset</span></code> to the second block to avoid nesting lemmas.</p>
</section>
<section id="abbreviations-and-macros">
<h3>Abbreviations and macros<a class="headerlink" href="#abbreviations-and-macros" title="Permalink to this heading">¶</a></h3>
<p>Substitutions for specially-formatted names (like  <code class="docutils literal notranslate"><span class="pre">|Cic|</span></code>, <code class="docutils literal notranslate"><span class="pre">|Ltac|</span></code> and <code class="docutils literal notranslate"><span class="pre">|Latex|</span></code> give CIC, <cite>L</cite><sub>tac</sub> and <span class="smallcaps">LaTeX</span>), along with some useful LaTeX macros, are defined in a <a class="reference external" href="refman-preamble.html">separate file</a>.  This file is automatically included in all manual pages.</p>
</section>
<section id="advanced-uses-of-notations">
<h3>Advanced uses of notations<a class="headerlink" href="#advanced-uses-of-notations" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Use <cite>%</cite> to escape grammar literal strings that are the same as metasyntax,
such as <code class="docutils literal notranslate"><span class="pre">{</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">}</span></code> and <code class="docutils literal notranslate"><span class="pre">{|</span></code>.  (While this is optional for
<code class="docutils literal notranslate"><span class="pre">|</span></code> and <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">...</span> <span class="pre">}</span></code> outside of <code class="docutils literal notranslate"><span class="pre">{|</span> <span class="pre">...</span> <span class="pre">}</span></code>, always using the escape
requires less thought.)</p></li>
<li><p>Literals such as <code class="docutils literal notranslate"><span class="pre">|-</span></code> and <code class="docutils literal notranslate"><span class="pre">||</span></code> don’t need to be escaped.</p></li>
<li><p>The literal <code class="docutils literal notranslate"><span class="pre">%</span></code> shouldn’t be escaped.</p></li>
<li><p>Don’t use the escape for a <code class="docutils literal notranslate"><span class="pre">|</span></code> separator in <code class="docutils literal notranslate"><span class="pre">{*</span></code> and <code class="docutils literal notranslate"><span class="pre">{+</span></code>.  These
should appear as <code class="docutils literal notranslate"><span class="pre">{*|</span></code> and <code class="docutils literal notranslate"><span class="pre">{+|</span></code>.</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="genindex.html" class="btn btn-neutral float-left" title="General index" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bibliography.html" class="btn btn-neutral float-right" title="Bibliography" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Squirrel developpers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>